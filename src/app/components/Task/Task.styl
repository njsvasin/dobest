@import '../../common/styl/variables.styl'

$taskHeight = $indent-10

.task
  position relative
  top 0
  left 0
  display flex
  box-sizing border-box
  max-width $indent-100
  height $taskHeight
  align-items center
  margin-bottom $indent-1
  padding-right $indent-3
  border $border-grey
  border-radius $border-radius-s
  background-color $color-white
  cursor pointer
  transition max-width $duration-s

  &:last-child
    margin-bottom auto

  &__text
    flex 1
    padding 0 $indent-2
    cursor pointer
    box-sizing border-box
    overflow hidden
    text-overflow ellipsis
    white-space nowrap

  &--fire
    background-color $color-orange
    border-color  $color-orange

  &--progress
    background-color $color-green
    border-color  $color-green

  &--regress
    background-color $color-red
    border-color  $color-red
    color $color-grey

  &--done
    .task__text
      text-decoration line-through

    &::after
      content ''
      position absolute
      display block
      width 100%
      height 100%
      border-radius $border-radius-s
      background-color $color-overlay--white

  &--dragging
    opacity .6
    z-index $z-index--above-2

  &--shifted-up
    top -($indent-10 + $indent-1)

  &--shifted-down
    top $indent-10 + $indent-1

  &--transition
    transition max-width $duration-s, top $duration-m

  &--minified
    max-width $taskHeight

    &::after
      content ''
      position absolute
      top 50%
      left 50%
      transform translate(-50%, -50%)
      width $taskHeight * 3
      height $taskHeight * 3
      border-radius 50%
      background-color $color-blue
      opacity 0.3

  &--hidden
    z-index $z-index--below
